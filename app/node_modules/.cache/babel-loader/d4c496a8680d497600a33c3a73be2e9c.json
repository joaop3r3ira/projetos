{"ast":null,"code":"import { MagicIncomingWindowMessage } from '@magic-sdk/types';\n\nvar ViewController =\n/** @class */\nfunction () {\n  function ViewController(transport, endpoint, encodedQueryParams) {\n    this.transport = transport;\n    this.endpoint = endpoint;\n    this.encodedQueryParams = encodedQueryParams;\n    this.ready = this.waitForReady();\n    if (this.init) this.init();\n    this.listen();\n  }\n\n  ViewController.prototype.waitForReady = function () {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      _this.transport.on(MagicIncomingWindowMessage.MAGIC_OVERLAY_READY, function () {\n        return resolve();\n      });\n    });\n  };\n  /**\n   * Listen for messages sent from the underlying Magic `<WebView>`.\n   */\n\n\n  ViewController.prototype.listen = function () {\n    var _this = this;\n\n    this.transport.on(MagicIncomingWindowMessage.MAGIC_HIDE_OVERLAY, function () {\n      _this.hideOverlay();\n    });\n    this.transport.on(MagicIncomingWindowMessage.MAGIC_SHOW_OVERLAY, function () {\n      _this.showOverlay();\n    });\n  };\n\n  return ViewController;\n}();\n\nexport { ViewController };","map":{"version":3,"sources":["../../../src/core/view-controller.ts"],"names":[],"mappings":"AAAA,SAAS,0BAAT,QAAgE,kBAAhE;;AAGA,IAAA,cAAA;AAAA;AAAA,YAAA;EAGE,SAAA,cAAA,CACqB,SADrB,EAEqB,QAFrB,EAGqB,kBAHrB,EAG+C;IAF1B,KAAA,SAAA,GAAA,SAAA;IACA,KAAA,QAAA,GAAA,QAAA;IACA,KAAA,kBAAA,GAAA,kBAAA;IAEnB,KAAK,KAAL,GAAa,KAAK,YAAL,EAAb;IACA,IAAI,KAAK,IAAT,EAAe,KAAK,IAAL;IACf,KAAK,MAAL;EACD;;EAOO,cAAA,CAAA,SAAA,CAAA,YAAA,GAAR,YAAA;IAAA,IAAA,KAAA,GAAA,IAAA;;IACE,OAAO,IAAI,OAAJ,CAAkB,UAAC,OAAD,EAAQ;MAC/B,KAAI,CAAC,SAAL,CAAe,EAAf,CAAkB,0BAA0B,CAAC,mBAA7C,EAAkE,YAAA;QAAM,OAAA,OAAA,EAAA;MAAS,CAAjF;IACD,CAFM,CAAP;EAGD,CAJO;EAMR;;AAEG;;;EACK,cAAA,CAAA,SAAA,CAAA,MAAA,GAAR,YAAA;IAAA,IAAA,KAAA,GAAA,IAAA;;IACE,KAAK,SAAL,CAAe,EAAf,CAAkB,0BAA0B,CAAC,kBAA7C,EAAiE,YAAA;MAC/D,KAAI,CAAC,WAAL;IACD,CAFD;IAIA,KAAK,SAAL,CAAe,EAAf,CAAkB,0BAA0B,CAAC,kBAA7C,EAAiE,YAAA;MAC/D,KAAI,CAAC,WAAL;IACD,CAFD;EAGD,CARO;;EASV,OAAA,cAAA;AAAC,CApCD,EAAA","sourceRoot":"","sourcesContent":["import { MagicIncomingWindowMessage } from '@magic-sdk/types';\nvar ViewController = /** @class */ (function () {\n    function ViewController(transport, endpoint, encodedQueryParams) {\n        this.transport = transport;\n        this.endpoint = endpoint;\n        this.encodedQueryParams = encodedQueryParams;\n        this.ready = this.waitForReady();\n        if (this.init)\n            this.init();\n        this.listen();\n    }\n    ViewController.prototype.waitForReady = function () {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.transport.on(MagicIncomingWindowMessage.MAGIC_OVERLAY_READY, function () { return resolve(); });\n        });\n    };\n    /**\n     * Listen for messages sent from the underlying Magic `<WebView>`.\n     */\n    ViewController.prototype.listen = function () {\n        var _this = this;\n        this.transport.on(MagicIncomingWindowMessage.MAGIC_HIDE_OVERLAY, function () {\n            _this.hideOverlay();\n        });\n        this.transport.on(MagicIncomingWindowMessage.MAGIC_SHOW_OVERLAY, function () {\n            _this.showOverlay();\n        });\n    };\n    return ViewController;\n}());\nexport { ViewController };\n//# sourceMappingURL=view-controller.js.map"]},"metadata":{},"sourceType":"module"}